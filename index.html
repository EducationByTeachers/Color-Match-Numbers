<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Color Match Numbers</title>
<style>
body { font-family: Arial, sans-serif; text-align:center; background:#f0f0f0; margin:0; padding:0;}
.screen { display:none; padding:20px; }
.screen.active { display:block; }
#grid {
  display:grid;
  grid-template-columns: repeat(5, 200px);
  grid-auto-rows: 60px;
  grid-gap:5px;
  justify-content:center;
  margin-top:20px;
}
.cell {
  width:200px;
  height:60px;
  line-height:1.2em;
  border:1px solid #999;
  user-select:none;
  font-weight:bold;
  cursor:pointer;
  background:white;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-size:16px;
  padding:2px;
}
.cell.found { background:green; color:white; }
.num-item { 
  width:50px; margin:2px; padding:5px; font-weight:bold; cursor:pointer; 
  background:white; border:1px solid #999; text-align:center;
}
.num-item.selected { background:blue; color:white; }
.num-item.found { background:green; color:white; font-weight:bold; }
#message { font-size:32px; color:red; margin:20px; display:none; }
#error-message { font-size:20px; color:red; margin:10px; display:none; }
button { padding:10px 20px; font-size:16px; margin-top:10px; cursor:pointer; }
canvas#confetti { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:9999; display:none; }
</style>
</head>
<body>

<div id="start-screen" class="screen active">
  <!-- Imagen aÃ±adida en la cabecera (ajustada para mostrar completa) -->
<img src="https://www.educationbyteachers.com/wp-content/uploads/2025/10/Los-numeros.webp" 
     alt="Thanksgiving" 
     style="width:100%;max-height:220px;object-fit:contain;background:#fff;border-radius:10px;margin-bottom:1rem;">

<h1>Number And Words Match</h1>
<p>First select the number below, then select the matching Spanish word in the grid. Correct matches turn green.</p>
<button id="start-btn">Start</button>
</div>

<div id="game-screen" class="screen">
<div id="error-message">Incorrect match! Try again.</div>
<div id="grid"></div>
<div id="number-list"></div>
<div id="message">You did it, good job!</div>
<button id="restart-btn">Restart</button>
</div>

<canvas id="confetti"></canvas>

<script>
document.addEventListener('DOMContentLoaded', function() {

const numberWords=[
"", "Uno","Dos","Tres","Cuatro","Cinco","Seis","Siete","Ocho","Nueve","Diez",
"Once","Doce","Trece","Catorce","Quince",
"Dieciseis","Diecisiete","Dieciocho","Diecinueve","Veinte",
"Veintiuno","Veintidos","Veintitres","Veinticuatro","Veinticinco","Veintiseis","Veintisiete","Veintiocho","Veintinueve","Treinta",
"Treinta y uno","Treinta y dos","Treinta y tres","Treinta y cuatro","Treinta y cinco","Treinta y seis","Treinta y siete","Treinta y ocho","Treinta y nueve",
"Cuarenta","Cuarenta y uno","Cuarenta y dos","Cuarenta y tres","Cuarenta y cuatro","Cuarenta y cinco","Cuarenta y seis","Cuarenta y siete","Cuarenta y ocho","Cuarenta y nueve",
"Cincuenta"
];

let selectedNumber = null;
let foundCount = 0;

const startScreen = document.getElementById("start-screen");
const gameScreen = document.getElementById("game-screen");
const gridEl = document.getElementById("grid");
const numberListEl = document.getElementById("number-list");
const messageEl = document.getElementById("message");
const errorEl = document.getElementById("error-message");
const confettiCanvas = document.getElementById("confetti");
const ctx = confettiCanvas.getContext("2d");

document.getElementById("start-btn").onclick = () => {
  startScreen.classList.remove("active");
  gameScreen.classList.add("active");
  startGame();
};

document.getElementById("restart-btn").onclick = () => {
  stopConfetti();
  messageEl.style.display = "none";
  startGame();
};

function startGame() {
  foundCount = 0;
  selectedNumber = null;
  generateGrid();
  setupNumberList();
}

function generateGrid() {
  gridEl.innerHTML = "";
  const words = numberWords.slice(1);
  const shuffled = words.sort(()=>Math.random()-0.5);
  shuffled.forEach(word=>{
    const div = document.createElement("div");
    div.className="cell";
    div.textContent = word;
    div.dataset.word = word;
    div.onclick = () => checkMatch(div);
    gridEl.appendChild(div);
  });
}

function setupNumberList() {
  numberListEl.innerHTML = "";
  for(let i=1;i<=50;i++){
    const span = document.createElement("span");
    span.className="num-item";
    span.textContent=i;
    span.dataset.num=i;
    span.onclick = () => { 
      document.querySelectorAll('.num-item').forEach(el=>el.classList.remove('selected'));
      selectedNumber = i; 
      span.classList.add('selected');
    };
    numberListEl.appendChild(span);
  }
}

function checkMatch(cell) {
  if(selectedNumber===null) return;
  const word = cell.dataset.word;
  if(word === numberWords[selectedNumber]) {
    cell.classList.add("found");
    const numItem = document.querySelector(`.num-item[data-num='${selectedNumber}']`);
    numItem.classList.remove('selected');
    numItem.classList.add("found");
    playSound(word);
    foundCount++;
    if(foundCount===50) finishGame();
  } else {
    showError();
  }
  selectedNumber = null;
  document.querySelectorAll('.num-item').forEach(el=>el.classList.remove('selected'));
}

function showError() {
  errorEl.style.display = 'block';
  setTimeout(()=> errorEl.style.display = 'none', 1500);
}



function finishGame() {
  messageEl.style.display = "block";
  startConfetti();
}

// Confetti
let confettiRunning=false;
function startConfetti(){
  if(confettiRunning) return;
  confettiRunning=true;
  confettiCanvas.style.display="block";
  confettiCanvas.width=window.innerWidth;
  confettiCanvas.height=window.innerHeight;
  const pieces=Array.from({length:200},()=>({
    x:Math.random()*confettiCanvas.width,
    y:Math.random()*confettiCanvas.height,
    r:3+Math.random()*4,
    vx:-1+Math.random()*2,
    vy:1+Math.random()*3,
    color:["#ef4444","#22c55e","#3b82f6","#facc15","#a855f7"][Math.floor(Math.random()*5)]
  }));
  function draw(){
    if(!confettiRunning) return;
    ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    pieces.forEach(p=>{
      ctx.fillStyle=p.color;
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fill();
      p.x+=p.vx; p.y+=p.vy;
      if(p.y>confettiCanvas.height) p.y=0;
      if(p.x>confettiCanvas.width) p.x=0;
      if(p.x<0) p.x=confettiCanvas.width;
    });
    requestAnimationFrame(draw);
  }
  draw();
}
function stopConfetti(){ confettiRunning=false; confettiCanvas.style.display="none"; }

});
</script>
</body>
</html>

